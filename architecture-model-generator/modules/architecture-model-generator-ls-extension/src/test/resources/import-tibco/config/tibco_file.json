{
  "description": "Test importing a tibco project",
  "projectPath": "main.process",
  "parameters": {},
  "output": {
    "textEdits": {
      "main.bal": "import ballerina/file;\n\npublic listener file:Listener File_PollerListener = new (\n    path = \"./TestDir/\",\n    recursive = true\n);\n\nservice \"File_Poller\" on File_PollerListener {\n    remote function onCreate(file:FileEvent event) {\n        map<SharedVariableContext> jobSharedVariables = {};\n        // TODO: add any addition data to this XML\n        xml data = xml `<fileInfo>\n    <fileName>\n        ${event.name}\n    </fileName>\n</fileInfo>`;\n        map<xml> paramXML = {file: data};\n        Context cx = initContext(paramXML, jobSharedVariables);\n        start_main_process(cx);\n    }\n\n    remote function onModify(file:FileEvent event) {\n        map<SharedVariableContext> jobSharedVariables = {};\n        // TODO: add any addition data to this XML\n        xml data = xml `<fileInfo>\n    <fileName>\n        ${event.name}\n    </fileName>\n</fileInfo>`;\n        map<xml> paramXML = {file: data};\n        Context cx = initContext(paramXML, jobSharedVariables);\n        start_main_process(cx);\n    }\n\n    remote function onDelete(file:FileEvent event) {\n        map<SharedVariableContext> jobSharedVariables = {};\n        // TODO: add any addition data to this XML\n        xml data = xml `<fileInfo>\n    <fileName>\n        ${event.name}\n    </fileName>\n</fileInfo>`;\n        map<xml> paramXML = {file: data};\n        Context cx = initContext(paramXML, jobSharedVariables);\n        start_main_process(cx);\n    }\n}\n\nxmlns \"http://xmlns.tibco.com/bw/process/2003\" as pd;\nxmlns \"http://www.w3.org/1999/XSL/Transform\" as xsl;\nxmlns \"http://www.tibco.com/pe/WriteToLogActivitySchema\" as ns;\nxmlns \"http://www.tibco.com/namespaces/tnt/plugins/file\" as ns1;\n",
      "configs.bal": "",
      "types.bal": "public type Context record {|\n    map<xml> variables;\n    xml result;\n    Response response?;\n    map<SharedVariableContext> sharedVariables;\n|};\n\npublic type JSONResponse readonly & record {|\n    *Response;\n    \"JSONResponse\" kind = \"JSONResponse\";\n    json payload;\n|};\n\npublic type Response record {|\n    \"JSONResponse\"|\"XMLResponse\"|\"TextResponse\" kind;\n    anydata payload;\n    map<string> headers;\n|};\n\npublic type SharedVariableContext record {|\n    function () returns xml getter;\n    function (xml value) setter;\n|};\n\npublic type TextResponse readonly & record {|\n    *Response;\n    \"TextResponse\" kind = \"TextResponse\";\n    string payload;\n|};\n\npublic type XMLResponse readonly & record {|\n    *Response;\n    \"XMLResponse\" kind = \"XMLResponse\";\n    xml payload;\n|};\n\n",
      "functions.bal": "import ballerina/log;\nimport ballerina/xslt;\n\nfunction File_Poller(Context cx) returns error? {\n    xml var0 = getFromContext(cx, \"file\");\n    xml var1 = xml `<root>\n    <EventSourceOutputNoContentClass xmlns=\"http://www.tibco.com/namespaces/tnt/plugins/file\">\n         ${var0}\n    </EventSourceOutputNoContentClass>\n</root>`;\n    addToContext(cx, \"File-Poller\", var1);\n}\n\nfunction Log(Context cx) returns error? {\n    xml var0 = xml `<root></root>`;\n    xml var1 = check xslt:transform(var0, xml `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" xmlns:pd=\"http://xmlns.tibco.com/bw/process/2003\" xmlns:ns=\"http://www.tibco.com/pe/WriteToLogActivitySchema\" xmlns:ns1=\"http://www.tibco.com/namespaces/tnt/plugins/file\" version=\"2.0\"><xsl:param name=\"File-Poller\"/>     <xsl:template name=\"Transform0\" match=\"/\">\n        <ns:ActivityInput xmlns:ns=\"http://www.tibco.com/pe/WriteToLogActivitySchema\">\n                    \n    <message>\n                            \n        <xsl:value-of select=\"$File-Poller/root/ns1:EventSourceOutputNoContentClass/fileInfo/fileName\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"/>\n                        \n    </message>\n                \n</ns:ActivityInput>\n\n    </xsl:template>\n</xsl:stylesheet>`, cx.variables);\n    xml var2 = var1/**/<message>/*;\n    log:printInfo(var2.toString());\n    addToContext(cx, \"Log\", var2);\n}\n\nfunction scope0ActivityRunner(Context cx) returns error? {\n    check File_Poller(cx);\n    check Log(cx);\n}\n\nfunction scope0FaultHandler(error err, Context cx) returns () {\n    panic err;\n}\n\nfunction scope0ScopeFn(Context cx) returns () {\n    error? result = scope0ActivityRunner(cx);\n    if result is error {\n        scope0FaultHandler(result, cx);\n    }\n}\n\nfunction start_main_process(Context cx) returns () {\n    return scope0ScopeFn(cx);\n}\n\nfunction addToContext(Context context, string varName, xml value) {\n    xml children = value/*;\n    xml transformed = xml `<root>${children}</root>`;\n    context.variables[varName] = transformed;\n    context.result = value;\n}\n\nfunction getFromContext(Context context, string varName) returns xml {\n    xml? value = context.variables[varName];\n    if value == () {\n        return xml `<root/>`;\n    }\n    return value;\n}\n\nfunction initContext(map<xml> initVariables = {},\n        map<SharedVariableContext> jobSharedVariables = {})\n            returns Context {\n    map<SharedVariableContext> sharedVariables = {};\n\n    foreach var key in jobSharedVariables.keys() {\n        sharedVariables[key] = jobSharedVariables.get(key);\n    }\n    return {variables: initVariables, result: xml `<root/>`, sharedVariables};\n}\n",
      "Ballerina.toml": "[package]\norg = \"ballerina\"\nname = \"tibco_project\"\nversion = \"0.1.0\"\ndistribution = \"2201.12.0\"\n\n[build-options]\nobservabilityIncluded = true",
      "connections.bal": ""
    },
    "report": "<!DOCTYPE html>\n<html>\n<head>\n    <title>Migration Assessment</title>\n    <style>\nbody {\n  font-family: Arial, sans-serif;\n  background-color: #f4f4f9;\n  color: #333;\n  margin: 0;\n  padding: 20px;\n}\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n}\nh1, h2, h3 {\n  color: #333;\n}\nh1 {\n  text-align: center;\n  color: #4682B4;\n  font-size: 2.5em;\n  font-weight: 300;\n  margin: 15px auto 40px;\n  padding: 0 0 15px;\n  max-width: 600px;\n  position: relative;\n  border-bottom: 1px solid rgba(70, 130, 180, 0.2);\n}\nh1::after {\n  content: \"\";\n  position: absolute;\n  bottom: -1px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 100px;\n  height: 3px;\n  background-color: rgba(70, 130, 180, 0.8);\n}\n.summary-container h2 {\n  margin-top: 0;\n  color: #4682B4;\n  border-bottom: 2px solid #f0f0f0;\n  padding-bottom: 10px;\n  margin-bottom: 20px;\n  text-align: center;\n  font-size: 1.5em;\n}\nh3 {\n  color: #4682B4;\n  border-bottom: 2px solid #f0f0f0;\n  padding-bottom: 10px;\n  margin-bottom: 20px;\n}\nfooter {\n  text-align: center;\n  margin-top: 20px;\n  font-size: 0.9em;\n  color: #666;\n}\n.summary-container {\n  background-color: #fff;\n  border-radius: 10px;\n  padding: 25px;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);\n  margin: 25px 0;\n  transition: box-shadow 0.3s;\n}\n.summary-container:hover {\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);\n}\n.estimation-notes {\n  background-color: #f8f9fa;\n  border-radius: 8px;\n  padding: 20px;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\n  margin-top: 25px;\n  border-left: 4px solid #4682B4;\n}\n.estimation-notes p {\n  margin-top: 0;\n}\n.estimation-notes ul {\n  margin: 15px 0 5px 25px;\n  padding-left: 0;\n}\n.estimation-notes li {\n  margin-bottom: 8px;\n  line-height: 1.4;\n}\n.coverage-indicator {\n  background-color: #f0f0f0;\n  border-radius: 6px;\n  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n  margin: 10px 0 20px 0;\n  overflow: hidden;\n  width: 100%;\n  height: 12px;\n}\n.coverage-bar {\n  border-radius: 6px;\n  transition: width 0.5s ease-in-out;\n  height: 100%;\n}\n.coverage-bar[data-width] {\n  border-radius: 6px;\n  transition: width 0.5s ease-in-out;\n  height: 100%;\n}\n.metric {\n  border: 1px solid #eaeaea;\n  padding: 15px 20px;\n  display: flex;\n  box-sizing: border-box;\n  transition: transform 0.2s, box-shadow 0.2s;\n  background-color: #f8f9fa;\n  border-radius: 8px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n  flex-direction: row;\n  gap: 20px;\n  width: 100%;\n  align-items: flex-start;\n  margin-bottom: 15px;\n}\n.metric:hover {\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n  transform: translateY(-3px);\n}\n.metric-value {\n  color: #4682B4;\n  font-weight: bold;\n  font-size: 1.8em;\n  margin-bottom: 5px;\n}\n.metric-label {\n  color: #666;\n  font-size: 0.9em;\n  text-align: center;\n}\n.metric-left {\n  flex-direction: column;\n  flex: 1;\n  display: flex;\n  align-items: center;\n}\n.metric-right {\n  padding-top: 10px;\n  flex: 1;\n}\n.status-badge {\n  border-radius: 20px;\n  margin-left: 15px;\n  padding: 6px 12px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  text-transform: uppercase;\n  font-weight: 600;\n  letter-spacing: 0.3px;\n  display: inline-block;\n  font-size: 0.75em;\n}\n.status-high {\n  background-color: #e8f5e9;\n  border: 1px solid rgba(46, 125, 50, 0.2);\n  color: #2e7d32;\n}\n.status-medium {\n  background-color: #fff8e1;\n  border: 1px solid rgba(245, 124, 0, 0.2);\n  color: #f57c00;\n}\n.status-low {\n  background-color: #ffebee;\n  border: 1px solid rgba(198, 40, 40, 0.2);\n  color: #c62828;\n}\n.time-best {\n  color: #4CAF50;\n  font-weight: 600;\n}\n.time-avg {\n  color: #4682B4;\n  font-weight: 600;\n}\n.time-worst {\n  color: #FF5722;\n  font-weight: 600;\n}\n.time-estimates-horizontal {\n  background-color: #f8f9fa;\n  border-radius: 8px;\n  padding: 20px;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\n  margin: 20px 0;\n  display: flex;\n  justify-content: space-around;\n  align-items: stretch;\n  transition: transform 0.2s, box-shadow 0.2s;\n}\n.time-estimates-horizontal:hover {\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n  transform: translateY(-3px);\n}\n.time-estimate {\n  flex-direction: column;\n  flex: 1;\n  display: flex;\n  align-items: center;\n  text-align: center;\n}\n.time-label {\n  color: #666;\n  font-weight: 500;\n  font-size: 0.9em;\n  margin-bottom: 10px;\n}\n.time-value {\n  flex-direction: column;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n}\n.time-days {\n  font-size: 1.4em;\n  margin-bottom: 2px;\n}\n.time-weeks {\n  color: #777;\n  font-weight: normal;\n  font-size: 0.8em;\n}\ntable {\n  width: 100%;\n  margin: 20px 0;\n  border-collapse: collapse;\n}\nth, td {\n  border: 1px solid #ddd;\n  padding: 12px;\n  text-align: left;\n}\nth {\n  background-color: #4682B4;\n  color: white;\n}\ntr:nth-child(even) {\n  background-color: #f2f2f2;\n}\ntr:hover {\n  background-color: #ddd;\n}\ntable code {\n  background-color: #f0f0f0;\n  border-radius: 4px;\n  padding: 2px 6px;\n  font-size: 0.9em;\n  font-family: monospace;\n}\n.drawer {\n  max-height: 0;\n  transition: max-height 0.3s ease-out;\n  overflow: hidden;\n}\n.drawer.open {\n  max-height: 500px;\n}\n.empty-message {\n  color: #666;\n  padding: 20px;\n  text-align: center;\n}\n.hidden {\n  display: none;\n}\n.visible {\n  display: block;\n}\n.unsupported-blocks {\n  padding: 10px;\n}\n.block-item {\n  background-color: #f8f9fa;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  overflow: hidden;\n  margin-bottom: 15px;\n  transition: transform 0.2s, box-shadow 0.2s;\n}\n.block-item:hover {\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.12);\n  transform: translateY(-2px);\n}\n.block-header {\n  background-color: #4682B4;\n  padding: 10px;\n  color: white;\n  display: flex;\n  justify-content: space-between;\n}\n.block-code {\n  background-color: #fff;\n  padding: 15px;\n  margin: 0;\n  white-space: pre-wrap;\n  overflow-x: auto;\n  font-family: monospace;\n}\n.block-number {\n  font-weight: bold;\n}\n.block-type {\n  font-family: monospace;\n}\n\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>Migration Assessment</h1>\n    <div class=\"summary-container\">\n        <h2>Migration Coverage Overview</h2>\n        <div class=\"metrics\">\n\n          <div class=\"metric\">\n            <div class=\"metric-left\">\n              <span class=\"metric-value\">100%</span>\n              <span class=\"metric-label\">Overall Coverage</span>\n              <div class=\"coverage-indicator\">\n                <div class=\"coverage-bar\" data-width=\"100\" data-color=\"#4CAF50\"></div>\n              </div>\n              <div>\n                <span class=\"status-badge status-high\">High Coverage</span>\n              </div>\n            </div>\n            <div class=\"metric-right\" style=\"display: flex; justify-content: center; align-items: center;\">\n              <div>\n                <div class=\"coverage-breakdown\">\n                  <div>\n                    <span class=\"breakdown-label\">Total activity(s):</span>\n                    <span class=\"breakdown-value\">2</span>\n                  </div>\n                  <div>\n                    <span class=\"breakdown-label\">Migratable activity(s):</span>\n                    <span class=\"breakdown-value\">2</span>\n                  </div>\n                  <div>\n                    <span class=\"breakdown-label\">Non-migratable activity(s):</span>\n                    <span class=\"breakdown-value\">0</span>\n                  </div>\n                  <div>\n                    <span class=\"breakdown-label\">Lines Generated:</span>\n                    <span class=\"breakdown-value\">132</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n    </div>\n<div class=\"summary-container\">\n    <h2>Manual Work Estimation</h2>\n    <div class=\"time-estimates-horizontal\">\n        <div class=\"time-estimate\">\n            <div class=\"time-label\">Best Case</div>\n            <div class=\"time-value time-best\">\n                <span class=\"time-days\">0 days</span>\n                <span class=\"time-weeks\">(0 weeks)</span>\n            </div>\n        </div>\n        <div class=\"time-estimate\">\n            <div class=\"time-label\">Average Case</div>\n            <div class=\"time-value time-avg\">\n                <span class=\"time-days\">0 days</span>\n                <span class=\"time-weeks\">(0 weeks)</span>\n            </div>\n        </div>\n        <div class=\"time-estimate\">\n            <div class=\"time-label\">Worst Case</div>\n            <div class=\"time-value time-worst\">\n                <span class=\"time-days\">0 days</span>\n                <span class=\"time-weeks\">(0 weeks)</span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"estimation-notes\">\n    <p><strong>Estimation Scenarios:</strong> Time measurement: 1 day = 8 hours, 5 working days = 1 week</p>\n    <ul>\n        <li>Best case scenario:\n          <ul>\n            <li>1.0 day per each new unsupported activity for analysis, implementation, and testing</li>\n            <li>1.0 hour per each repeated unsupported activity for implementation</li>\n            <li>Assumes minimal complexity and straightforward implementations</li>\n          </ul>\n        </li>\n        <li>Average case scenario:\n                <ul>\n        <li>2.0 days per each new unsupported activity for analysis, implementation, and testing</li>\n        <li>2.0 hours per each repeated unsupported activity for implementation</li>\n        <li>Assumes medium complexity with moderate implementation challenges</li>\n    </ul>\n\n        </li>\n        <li>Worst case scenario:\n          <ul>\n            <li>3.0 days per each new unsupported activity for analysis, implementation, and testing</li>\n            <li>4.0 hours per each repeated unsupported activity for implementation</li>\n            <li>Assumes high complexity with significant implementation challenges</li>\n          </ul>\n        </li>\n    </ul>\n</div>\n<div class=\"summary-container\">\n    <h2>Currently Unsupported Activities</h2>\n    <div id=\"toolSupportSection\">\n        <table class=\"hidden\">\n            <tr><th>Activity name</th><th>Frequency</th></tr>\n        </table>\n        <p class=\"empty-message visible\" id=\"toolSupportEmpty\">\n            No unsupported activities found\n        </p>\n        <div class=\"estimation-notes hidden\">\n            <p><strong>Note:</strong> These activities are expected to be supported in future versions of the migration tool.</p>\n        </div>\n    </div>\n</div>\n<div class=\"summary-container\">\n    <h2>Activities that may require manual changes</h2>\n    <div id=\"partiallySupportedSection\">\n        <table class=\"hidden\">\n            <tr><th>Activity name</th><th>Frequency</th></tr>\n        </table>\n        <p class=\"empty-message visible\" id=\"partiallySupportedEmpty\">\n            No partially supported activities found\n        </p>\n        <div class=\"estimation-notes hidden\">\n            <p><strong>Note:</strong> These activities are converted but may require manual review or adjustments.</p>\n        </div>\n    </div>\n</div>\n    </div>\n    <footer><p>Report generated on: <span id=\"datetime\"></span></p></footer>\n    <script>\n      document.addEventListener('DOMContentLoaded', function() {\n          // Set coverage bar styles from data attributes\n          const coverageBars = document.querySelectorAll('.coverage-bar[data-width]');\n          coverageBars.forEach(function(bar) {\n              const width = bar.getAttribute('data-width');\n              const color = bar.getAttribute('data-color');\n              bar.style.width = width + '%%';\n              bar.style.backgroundColor = color;\n          });\n\n          // Check Currently Unsupported Elements\n          const toolSupportTable = document.querySelector('#toolSupportSection table');\n          if (toolSupportTable.rows.length <= 1) {\n              toolSupportTable.classList.add('hidden');\n              document.getElementById('toolSupportEmpty').classList.remove('hidden');\n              document.getElementById('toolSupportEmpty').classList.add('visible');\n              document.querySelector('#toolSupportSection .estimation-notes').classList.add('hidden');\n          }\n\n          // Check Partially Supported Elements\n          const partiallySupportedTable = document.querySelector('#partiallySupportedSection table');\n          if (partiallySupportedTable.rows.length <= 1) {\n              partiallySupportedTable.classList.add('hidden');\n              document.getElementById('partiallySupportedEmpty').classList.remove('hidden');\n              document.getElementById('partiallySupportedEmpty').classList.add('visible');\n              document.querySelector('#partiallySupportedSection .estimation-notes').classList.add('hidden');\n          }\n      });\n    </script>\n    <script>document.getElementById(\"datetime\").innerHTML = new Date().toLocaleString();</script>\n</body>\n</html>\n",
    "jsonReport": {
      "coverageOverview": {
        "totalElements": 2,
        "migratableElements": 2,
        "coveragePercentage": 100,
        "nonMigratableElements": 0,
        "coverageLevel": "high",
        "unitName": "activity"
      }
    }
  }
}
