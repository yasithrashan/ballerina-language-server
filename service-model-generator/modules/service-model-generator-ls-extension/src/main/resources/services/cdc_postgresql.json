{
  "id": "18",
  "displayName": "PostgreSQL CDC Integration",
  "description": "Create a service to capture data changes from a PostgreSQL database using CDC",
  "orgName": "ballerinax",
  "packageName": "postgresql",
  "moduleName": "postgresql",
  "version": "1.16.2",
  "type": "event",
  "properties": {
    "host": {
      "metadata": {
        "label": "Host",
        "description": "The hostname of the PostgreSQL Server"
      },
      "codedata": {
        "argType": "databaseConfig",
        "originalName": "hostname"
      },
      "placeholder": "localhost",
      "value": "\"localhost\"",
      "types": [
        {
          "fieldType": "TEXT",
          "ballerinaType": "string",
          "selected": true
        },
        {
          "fieldType": "EXPRESSION",
          "ballerinaType": "string",
          "selected": false
        }
      ],
      "enabled": true,
      "editable": true,
      "optional": true,
      "advanced": false
    },
    "port": {
      "metadata": {
        "label": "Port",
        "description": "The port number of the PostgreSQL Server"
      },
      "codedata": {
        "argType": "databaseConfig",
        "originalName": "port"
      },
      "placeholder": "5432",
      "value": "5432",
      "types": [
        {
          "fieldType": "NUMBER",
          "ballerinaType": "int",
          "selected": true
        },
        {
          "fieldType": "EXPRESSION",
          "ballerinaType": "int",
          "selected": false
        }
      ],
      "enabled": true,
      "editable": true,
      "optional": true,
      "advanced": false
    },
    "username": {
      "metadata": {
        "label": "Username",
        "description": "The username for the PostgreSQL Server connection"
      },
      "codedata": {
        "argType": "databaseConfig",
        "originalName": "username"
      },
      "placeholder": "",
      "value": "",
      "types": [
        {
          "fieldType": "TEXT",
          "ballerinaType": "string",
          "selected": true,
          "pattern": "^string `.+`$|^\".+\"$",
          "patternErrorMessage": "Username cannot be empty"
        },
        {
          "fieldType": "EXPRESSION",
          "ballerinaType": "string",
          "selected": false
        }
      ],
      "enabled": true,
      "editable": true,
      "optional": false,
      "advanced": false
    },
    "password": {
      "metadata": {
        "label": "Password",
        "description": "The password for the PostgreSQL Server connection"
      },
      "codedata": {
        "argType": "databaseConfig",
        "originalName": "password"
      },
      "placeholder": "",
      "value": "",
      "types": [
        {
          "fieldType": "TEXT",
          "ballerinaType": "string",
          "selected": true,
          "pattern": "^string `.+`$|^\".+\"$",
          "patternErrorMessage": "Password cannot be empty"
        },
        {
          "fieldType": "EXPRESSION",
          "ballerinaType": "string",
          "selected": false
        }
      ],
      "enabled": true,
      "editable": true,
      "optional": false,
      "advanced": false
    },
    "database": {
      "metadata": {
        "label": "Database",
        "description": "The PostgreSQL database name to capture changes from"
      },
      "codedata": {
        "argType": "databaseConfig",
        "originalName": "databaseName"
      },
      "placeholder": "",
      "value": "",
      "types": [
        {
          "fieldType": "TEXT",
          "ballerinaType": "string",
          "selected": true,
          "pattern": "^string `.+`$|^\".+\"$",
          "patternErrorMessage": "Database name cannot be empty"
        },
        {
          "fieldType": "EXPRESSION",
          "ballerinaType": "string",
          "selected": false
        }
      ],
      "enabled": true,
      "editable": true,
      "optional": false,
      "advanced": false
    },
    "schemas": {
      "metadata": {
        "label": "Schemas",
        "description": "A list of regular expressions that match names of schemas to capture changes from"
      },
      "codedata": {
        "argType": "databaseConfig",
        "originalName": "includedSchemas"
      },
      "placeholder": "",
      "types": [
        {
          "fieldType": "TEXT_SET",
          "ballerinaType": "string",
          "minItems": 0,
          "defaultItems": 0
        }
      ],
      "enabled": true,
      "editable": true,
      "optional": true,
      "advanced": false
    },
    "table": {
      "metadata": {
        "label": "Table",
        "description": "The fully-qualified table name to capture events from. Format: `<database>.<schema>.<table>`"
      },
      "codedata": {
        "argType": "annotationParam",
        "originalName": "tables"
      },
      "placeholder": "",
      "value": "",
      "types": [
        {
          "fieldType": "TEXT",
          "ballerinaType": "string",
          "selected": true,
          "pattern": "^$|^\"\"$|^string `(|([^.\\[\\]]+|\\[[^\\]]+\\])\\.([^.\\[\\]]+|\\[[^\\]]+\\])\\.([^.\\[\\]]+|\\[[^\\]]+\\]))`$|^\"([^.\\[\\]]+|\\[[^\\]]+\\])\\.([^.\\[\\]]+|\\[[^\\]]+\\])\\.([^.\\[\\]]+|\\[[^\\]]+\\])\"$",
          "patternErrorMessage": "Table must be in the format: <database>.<schema>.<table>. Use square brackets for names with dots (e.g., db.[schema.name].table)"
        },
        {
          "fieldType": "EXPRESSION",
          "ballerinaType": "string",
          "selected": false
        }
      ],
      "enabled": true,
      "editable": true,
      "optional": true,
      "advanced": false
    },
    "configureListener": {
      "metadata": {
        "label": "Use Existing Listener or Create New Listener",
        "description": "Use Existing Listener or Create New Listener"
      },
      "placeholder": "",
      "value": "0",
      "types": [
        {
          "fieldType": "CHOICE"
        }
      ],
      "choices": [
        {
          "metadata": {
            "label": "Use Existing Listener",
            "description": "Use Existing Listener"
          },
          "placeholder": "true",
          "value": "true",
          "types": [
            {
              "fieldType": "FORM"
            }
          ],
          "enabled": true,
          "editable": true,
          "optional": false,
          "advanced": false,
          "properties": {
            "selectListener": {
              "metadata": {
                "label": "Select Listener",
                "description": "Select from the existing PostgreSQL CDC listeners"
              },
              "codedata": {
                "type": "LISTENER_VAR_NAME"
              },
              "placeholder": "",
              "value": "postgresqlCdcListener",
              "types": [
                {
                  "fieldType": "SINGLE_SELECT",
                  "ballerinaType": "string",
                  "selected": true
                }
              ],
              "enabled": true,
              "editable": true,
              "optional": false,
              "advanced": false
            }
          }
        },
        {
          "metadata": {
            "label": "Create New Listener",
            "description": "Create New Listener"
          },
          "placeholder": "true",
          "value": "true",
          "properties": {},
          "types": [
            {
              "fieldType": "FORM"
            }
          ],
          "isType": false,
          "enabled": false,
          "editable": true,
          "optional": false,
          "advanced": false
        }
      ],
      "enabled": true,
      "editable": true,
      "optional": false,
      "advanced": true
    },
    "listenerVarName": {
      "metadata": {
        "label": "Listener Name",
        "description": "Provide a name for the listener being created"
      },
      "codedata": {
        "argType": "LISTENER_VAR_NAME"
      },
      "value": "postgresqlCdcListener",
      "placeholder": "postgresqlCdcListener",
      "types": [
        {
          "fieldType": "IDENTIFIER",
          "ballerinaType": "CdcListener"
        }
      ],
      "enabled": true,
      "editable": true,
      "optional": true,
      "advanced": true
    },
    "secureSocket": {
      "metadata": {
        "label": "Secure Socket",
        "description": "Configure SSL/TLS configuration for secure connection"
      },
      "codedata": {
        "argType": "databaseConfig",
        "originalName": "secure"
      },
      "value": "",
      "placeholder": "",
      "types": [
        {
          "fieldType": "RECORD_MAP_EXPRESSION",
          "ballerinaType": "cdc:SecureDatabaseConnection",
          "typeMembers": [
            {
              "type": "SecureDatabaseConnection",
              "packageInfo": "ballerinax:cdc:1.0.3",
              "kind": "RECORD_TYPE",
              "selected": false
            }
          ],
          "selected": true
        },
        {
          "fieldType": "EXPRESSION",
          "ballerinaType": "cdc:SecureDatabaseConnection",
          "selected": false
        }
      ],
      "enabled": true,
      "editable": true,
      "optional": true,
      "advanced": true
    },
    "options": {
      "metadata": {
        "label": "Options",
        "description": "Additional options for the CDC engine"
      },
      "codedata": {
        "argType": "LISTENER_PARAM_INCLUDED_FIELD"
      },
      "placeholder": "",
      "value": "",
      "types": [
        {
          "fieldType": "RECORD_MAP_EXPRESSION",
          "ballerinaType": "cdc:Options",
          "typeMembers": [
            {
              "type": "Options",
              "packageInfo": "ballerinax:cdc:1.0.3",
              "kind": "RECORD_TYPE",
              "selected": true
            }
          ],
          "selected": true
        },
        {
          "fieldType": "EXPRESSION",
          "ballerinaType": "cdc:Options",
          "selected": false
        }
      ],
      "enabled": true,
      "editable": true,
      "optional": true,
      "advanced": true
    }
  }
}
