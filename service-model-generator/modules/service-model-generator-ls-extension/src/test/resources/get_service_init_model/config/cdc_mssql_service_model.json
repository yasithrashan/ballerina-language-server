{
  "description": "Test getting cdc service init model",
  "filePath": "sample1/main.bal",
  "orgName": "ballerinax",
  "pkgName": "mssql",
  "moduleName": "mssql",
  "response": {
    "serviceInitModel": {
      "id": "17",
      "displayName": "Microsoft SQL Server CDC Integration",
      "description": "Create a service to capture data changes from a Microsoft SQL Server database using CDC",
      "orgName": "ballerinax",
      "packageName": "mssql",
      "moduleName": "mssql",
      "version": "1.16.1",
      "type": "event",
      "properties": {
        "host": {
          "metadata": {
            "label": "Host",
            "description": "The hostname of the Microsoft SQL Server"
          },
          "codedata": {
            "argType": "databaseConfig",
            "originalName": "hostname"
          },
          "placeholder": "localhost",
          "value": "\"localhost\"",
          "types": [
            {
              "fieldType": "TEXT",
              "ballerinaType": "string",
              "selected": true
            },
            {
              "fieldType": "EXPRESSION",
              "ballerinaType": "string",
              "selected": false
            }
          ],
          "enabled": true,
          "editable": true,
          "optional": true,
          "advanced": false
        },
        "port": {
          "metadata": {
            "label": "Port",
            "description": "The port number of the Microsoft SQL Server"
          },
          "codedata": {
            "argType": "databaseConfig",
            "originalName": "port"
          },
          "placeholder": "1433",
          "value": "1433",
          "types": [
            {
              "fieldType": "NUMBER",
              "ballerinaType": "int",
              "selected": true
            },
            {
              "fieldType": "EXPRESSION",
              "ballerinaType": "int",
              "selected": false
            }
          ],
          "enabled": true,
          "editable": true,
          "optional": true,
          "advanced": false
        },
        "username": {
          "metadata": {
            "label": "Username",
            "description": "The username for the Microsoft SQL Server connection"
          },
          "codedata": {
            "argType": "databaseConfig",
            "originalName": "username"
          },
          "placeholder": "",
          "value": "",
          "types": [
            {
              "fieldType": "TEXT",
              "ballerinaType": "string",
              "selected": true,
              "pattern": "^string `.+`$|^\".+\"$",
              "patternErrorMessage": "Username cannot be empty"
            },
            {
              "fieldType": "EXPRESSION",
              "ballerinaType": "string",
              "selected": false
            }
          ],
          "enabled": true,
          "editable": true,
          "optional": false,
          "advanced": false
        },
        "password": {
          "metadata": {
            "label": "Password",
            "description": "The password for the Microsoft SQL Server connection"
          },
          "codedata": {
            "argType": "databaseConfig",
            "originalName": "password"
          },
          "placeholder": "",
          "value": "",
          "types": [
            {
              "fieldType": "TEXT",
              "ballerinaType": "string",
              "selected": true,
              "pattern": "^string `.+`$|^\".+\"$",
              "patternErrorMessage": "Password cannot be empty"
            },
            {
              "fieldType": "EXPRESSION",
              "ballerinaType": "string",
              "selected": false
            }
          ],
          "enabled": true,
          "editable": true,
          "optional": false,
          "advanced": false
        },
        "databases": {
          "metadata": {
            "label": "Databases",
            "description": "List of databases to capture changes from"
          },
          "codedata": {
            "argType": "databaseConfig",
            "originalName": "databaseNames"
          },
          "placeholder": "",
          "types": [
            {
              "fieldType": "TEXT_SET",
              "ballerinaType": "string",
              "selected": false,
              "minItems": 1,
              "defaultItems": 1,
              "pattern": "^string `.+`$|^\".+\"$",
              "patternErrorMessage": "Database name cannot be empty"
            }
          ],
          "enabled": true,
          "editable": true,
          "optional": false,
          "advanced": false
        },
        "schemas": {
          "metadata": {
            "label": "Schemas",
            "description": "A list of regular expressions that match names of schemas to capture changes from"
          },
          "codedata": {
            "argType": "databaseConfig",
            "originalName": "includedSchemas"
          },
          "placeholder": "",
          "types": [
            {
              "fieldType": "TEXT_SET",
              "ballerinaType": "string",
              "selected": false,
              "minItems": 0,
              "defaultItems": 0
            }
          ],
          "enabled": true,
          "editable": true,
          "optional": true,
          "advanced": false
        },
        "table": {
          "metadata": {
            "label": "Table",
            "description": "The fully-qualified table name to capture events from. Format: `<database>.<schema>.<table>`"
          },
          "codedata": {
            "argType": "annotationParam",
            "originalName": "tables"
          },
          "placeholder": "",
          "value": "",
          "types": [
            {
              "fieldType": "TEXT",
              "ballerinaType": "string",
              "selected": true,
              "pattern": "^$|^\"\"$|^string `(|([^.\\[\\]]+|\\[[^\\]]+\\])\\.([^.\\[\\]]+|\\[[^\\]]+\\])\\.([^.\\[\\]]+|\\[[^\\]]+\\]))`$|^\"([^.\\[\\]]+|\\[[^\\]]+\\])\\.([^.\\[\\]]+|\\[[^\\]]+\\])\\.([^.\\[\\]]+|\\[[^\\]]+\\])\"$",
              "patternErrorMessage": "Table must be in the format: <database>.<schema>.<table>. Use square brackets for names with dots (e.g., db.[schema.name].table)"
            },
            {
              "fieldType": "EXPRESSION",
              "ballerinaType": "string",
              "selected": false
            }
          ],
          "enabled": true,
          "editable": true,
          "optional": true,
          "advanced": false
        },
        "listenerVarName": {
          "metadata": {
            "label": "Listener Name",
            "description": "Provide a name for the listener being created"
          },
          "codedata": {
            "argType": "LISTENER_VAR_NAME"
          },
          "placeholder": "mssqlCdcListener",
          "value": "mssqlCdcListener",
          "types": [
            {
              "fieldType": "IDENTIFIER",
              "ballerinaType": "CdcListener",
              "selected": false
            }
          ],
          "enabled": true,
          "editable": true,
          "optional": true,
          "advanced": true
        },
        "databaseInstance": {
          "metadata": {
            "label": "Database Instance",
            "description": "Microsoft SQL Server instance name"
          },
          "codedata": {
            "argType": "databaseConfig",
            "originalName": "databaseInstance"
          },
          "placeholder": "",
          "value": "",
          "types": [
            {
              "fieldType": "TEXT",
              "ballerinaType": "string",
              "selected": true
            },
            {
              "fieldType": "EXPRESSION",
              "ballerinaType": "string",
              "selected": false
            }
          ],
          "enabled": true,
          "editable": true,
          "optional": true,
          "advanced": true
        },
        "secureSocket": {
          "metadata": {
            "label": "Secure Socket",
            "description": "Configure SSL/TLS configuration for secure connection"
          },
          "codedata": {
            "argType": "databaseConfig",
            "originalName": "secure"
          },
          "placeholder": "",
          "value": "",
          "types": [
            {
              "fieldType": "RECORD_MAP_EXPRESSION",
              "ballerinaType": "cdc:SecureDatabaseConnection",
              "typeMembers": [
                {
                  "type": "SecureDatabaseConnection",
                  "packageInfo": "ballerinax:cdc:1.0.3",
                  "kind": "RECORD_TYPE",
                  "selected": false
                }
              ],
              "selected": true
            },
            {
              "fieldType": "EXPRESSION",
              "ballerinaType": "cdc:SecureDatabaseConnection",
              "selected": false
            }
          ],
          "enabled": true,
          "editable": true,
          "optional": true,
          "advanced": true
        },
        "options": {
          "metadata": {
            "label": "Options",
            "description": "Additional options for the CDC engine"
          },
          "codedata": {
            "argType": "LISTENER_PARAM_INCLUDED_FIELD"
          },
          "placeholder": "",
          "value": "",
          "types": [
            {
              "fieldType": "RECORD_MAP_EXPRESSION",
              "ballerinaType": "cdc:Options",
              "typeMembers": [
                {
                  "type": "Options",
                  "packageInfo": "ballerinax:cdc:1.0.3",
                  "kind": "RECORD_TYPE",
                  "selected": true
                }
              ],
              "selected": true
            },
            {
              "fieldType": "EXPRESSION",
              "ballerinaType": "cdc:Options",
              "selected": false
            }
          ],
          "enabled": true,
          "editable": true,
          "optional": true,
          "advanced": true
        }
      }
    }
  }
}
